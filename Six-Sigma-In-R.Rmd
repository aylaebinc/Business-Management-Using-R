---
title: "Six Sigma In R"
author: "Illarion  Jabine"
date: "27/01/2020"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)
```


### 1. Required packages:

* [SixSigma]: Six Sigma Tools for Quality Control and Improvement
* [qcc]: Quality Control Charts (Shewhart quality control charts for continuous, attribute and count data.)

### 2. Key terms
 * Six Sigma 
 * Control Charts
 * DMAIC
 * Root-Cause Diagram (Cause and Effect Diagram / Fish Bone Diagram / Ishikawa Diagram)
 * Gage R&R
 * SPC
 * Shewhart quality control charts
 * Cusum and EWMA charts
 * Operating characteristic curves
 * Process capability analysis
 * Pareto chart
 * Multivariate control charts

### 3. Useful Links
 * Six Sigma with R: <https://www.springer.com/gp/book/9781461436515>
 * Six Sigma Institute: <https://www.sixsigma-institute.org>
 * Wiki: <https://en.wikipedia.org/wiki/Six_Sigma>
 * ISO 13053-1:2011: Quantitative methods in process improvement â€” Six Sigma <https://www.iso.org/standard/52901.html>
 
## 4. Introduction
Six Sigma is one of the most widely used set of techniques, tools and method's aimed at 
improving business processes and optimizing operations.
Sigma is a statistical term which defines the standard deviation from from the mean of the normal distribution.
If we take 3 sigmas to left and 3 sigmas to the right from the mean (i.e. 6 sigmas in absolute value) then 99.99% of observations will be in this range.
Six Sigma is an indispensable tool for quality control and improvement initiatives.
It uses statistical methods to statistical methods to monitor and control a process.
And this is a strong point about Six Sigma.
By introducing verifiable data and statistical methods we can define, measure, analyse, improve, and control the business process. Six sigma involves systematic and data-driven approach to managing quality improvement projects.
The quality control management base their decisions on facts rather than assumptions and guesswork.
Indeed, Six Sigma clear focus on achieving measurable and quantifiable financial returns.
To improve existing business processes Six Sigma follows DMAIC and DMADV methodologies.
 * DMAIC is used for projects aimed at improving an existing business process.
 * DMADV is used for projects aimed at creating new product or process designs.
In this manual I will consider DMAIC cycle. DMAIC stands for:
 1.Define
 2.Measure
 3.Analyse
 4.Improve
 5.Control
In this manual I will only cover the topics of how R can be used in Measure, Analyse and Control phases.

### 5. Load the libraries
Let's first load the libraries.
```{r loading packages, message=FALSE, warning=FALSE}
library(SixSigma)
library(qcc)
```

### 6. Loading and checking the data

Load and check the datasets.
Dataset1: pistonrings from qcc package
 * 
 * 
 
```{r load the data and pre-process them}
# Loading data from Rds file


# Checking if there are any NAs:


```

### 7. Define
During the definition phase we identify the problem area faced by the customer.
We identify customer requirements and set the project goals to achive. During this phase the PM prepares all the project initiation documents: problem statement, customer requiremets, project statement, business case, project charter, etc.
According to Six Sigma institute the define phase consists of the following 
SixSigma package offers the process mapping tool for define stage. Process map (<https://en.wikipedia.org/wiki/Business_process_mapping>)
Process map depicts the steps of the processes starting from a high, conceptual level and 
decomposing to lower levels. Each process consumes inputs X and produces output Y.
SixSigma package has a function ss.pMap() to draw the process map. However, the process of creating a map is quite tedious. I think it is much easier to create such a map in a graphical tool.
Here is an example of a process map from SixSigma package manual: 
```{r message=FALSE, warning=FALSE}
inputs.overall<-c("operators", "tools", "raw material", "facilities")
outputs.overall<-c("helicopter")
steps<-c("INSPECTION", "ASSEMBLY", "TEST", "LABELING")
#Inputs of process "i" are inputs of process "i+1"
input.output<-vector(mode="list",length=length(steps))
input.output[1]<-list(c("sheets", "..."))
input.output[2]<-list(c("sheets"))
input.output[3]<-list(c("helicopter"))
input.output[4]<-list(c("helicopter"))
#Parameters of each process
x.parameters<-vector(mode="list",length=length(steps))
x.parameters[1]<-list(c(list(c("width", "NC")),list(c("operator", "C")),
list(c("Measure pattern", "P")), list(c("discard", "P"))))
x.parameters[2]<-list(c(list(c("operator", "C")),list(c("cut", "P")),
list(c("fix", "P")), list(c("rotor.width", "C")),list(c("rotor.length",
"C")), list(c("paperclip", "C")), list(c("tape", "C"))))
x.parameters[3]<-list(c(list(c("operator", "C")),list(c("throw", "P")),
list(c("discard", "P")), list(c("environment", "N"))))
x.parameters[4]<-list(c(list(c("operator", "C")),list(c("label", "P"))))
x.parameters
#Features of each process
y.features<-vector(mode="list",length=length(steps))
y.features[1]<-list(c(list(c("ok", "Cr"))))
y.features[2]<-list(c(list(c("weight", "Cr"))))
y.features[3]<-list(c(list(c("time", "Cr"))))
y.features[4]<-list(c(list(c("label", "Cr"))))
y.features
ss.pMap(steps, inputs.overall, outputs.overall,
input.output, x.parameters, y.features,
sub="Paper Helicopter Project")

```


### 8. Measure
If you can not measure something how can you control it? 
Measure the requirements both in qualitative and quantative terms. Take the current process "as is" and collect the relevant data about it.
Tools in R:
 1. Gage R & R
 2. Process capability analysis
 

### 9. Analyse
During this phase we analyse the collected data and try to find out the causes of issues.
There must be some exploitative data analysis carried out to investigate and confirm what is the causing the issues. It's an iterative approach of asking and answering questions. 
R has the following tools to perform such analysis.
 1. Cause and effect diagram
 2. Pareto chart
 3. Bar chart
 4. Histogram
 5. Box plot
 6. Scatter plot

### 11. Control

Control the process.
